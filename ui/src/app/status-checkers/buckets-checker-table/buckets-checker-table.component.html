<div *ngIf="paginator.contentLength() > 0; else noBucketsBlock" class="cbui-table">
  <div class="cbui-table margin-top-half">
    <div class="cbui-table-header">
      <span class="cbui-table-cell">Name</span>
      <span class="cbui-table-cell">Items</span>
      <span class="cbui-table-cell">Type</span>
      <span class="cbui-table-cell">RAM Quota</span>
      <span class="cbui-table-cell">RAM Used</span>
    </div>
    <section *ngFor="let bucket of paginator.getPage()" (click)="expanded.set(bucket.name, !expanded.get(bucket.name))">
      <div class="cbui-tablerow has-hover" [ngClass]="[getBucketStatusHealth(statuses, bucket.name)]">
        <span class="cbui-table-cell">{{ bucket.name }}</span>
        <span class="cbui-table-cell">{{ bucket.items }}</span>
        <span class="cbui-table-cell">{{ bucket.bucket_type }}</span>
        <span class="cbui-table-cell">{{ bucket.quota | formatBytes }}</span>
        <span class="cbui-table-cell">{{ bucket.quota_used | number: '1.2-2' }}%</span>
      </div>
      <div
        class="cbui-tablerow-exapanded margin-bottom-1"
        *ngIf="expanded.get(bucket.name)"
        (click)="$event.stopPropagation()"
      >
        <app-checker-table
          [inner]="true"
          [statuses]="filterByStatus(getBucketStatusResults(bucket.name))"
          [definitions]="definitions"
          [(expandedResults)]="expandedResults"
          (dismissEvent)="dismiss($event)"
        ></app-checker-table>
      </div>
    </section>
    <div class="margin-top-1">
      <ngb-pagination
        class="d-flex justify-content-end"
        size="sm"
        [collectionSize]="paginator.contentLength()"
        [(page)]="paginator.currentPage"
        [pageSize]="paginator.pageSize"
        [maxSize]="3"
        [rotate]="true"
        [ellipses]="false"
        [boundaryLinks]="true"
      >
      </ngb-pagination>
    </div>
  </div>
</div>
<ng-template #noBucketsBlock>
  <div class="zero-content">No buckets detected.</div>
</ng-template>
